/*REXX REXX0057  - STQUICK
 COUNT AND STATUS OF JOBS SUBMITTED BY YOU
*/
CALL OUTTRAP "LINE.","*"  /* NOTE 1 */
"STATUS"
CALL OUTTRAP "OFF"        /* NOTE 2 */
MAX_RETURNED = LINE.0

EXECUTING_CTR = 0
WAIT_CTR      = 0
OUTPUT_CTR    = 0


 DO I = 1 TO MAX_RETURNED  /* NOTE 3 */
    IF POS("NO JOBS FOUND",LINE.I) > 0
    THEN
      DO
        SAY "YOU HAVE NO JOBS IN THE SYSTEM NOW"
        EXIT
      END
 END I

 DO I = 1 TO MAX_RETURNED  /* NOTE 4 */
    IF POS("EXECUTING",LINE.I) > 0
       THEN EXECUTING_CTR =   EXECUTING_CTR + 1
    IF POS("OUTPUT QUEUE",LINE.I) > 0
       THEN OUTPUT_CTR =      OUTPUT_CTR    + 1
    IF POS("WAITING FOR",LINE.I) > 0
       THEN WAIT_CTR =        WAIT_CTR      + 1
 END I

 SAY "EXECUTING"             EXECUTING_CTR
 SAY "ON OUTPUT QUEUE"       OUTPUT_CTR
 SAY "WAITING FOR EXECUTION" WAIT_CTR

