 /* REXX PROGRAM REXX0008 WHICH WILL EXECUTE THE TSO COMMAND LISTDS
     AND CAPTURE THE OUTPUT THAT IS NORMALLY DISPLAYED AT THE TERMINAL
     THIS EXAMPLE DISPLAYS THE CAPTURED DATA.
     YOU CAN DO OTHER THINGS WITH THE CAPTURED DATA.
 */
 CALL OUTTRAP "SYSOUTLINE.", "100"/* ARBITRARILY CHOOSING 100 LINES. */
                                  /* YOU CAN USE A DIFFERENT VALUE */

 "LISTDS  'USERID.TEST1.CLIST'"   /* USE A VALID DATASET NAME HERE */
 CALL OUTTRAP "OFF"
 MAX_RETURNED = SYSOUTLINE.0
 DO INDEX = 1 TO MAX_RETURNED     /* THIS LOOP DISPLAYS ALL LINES */
     SAY "LINE RETRIEVED IS" SYSOUTLINE.INDEX
 END INDEX
