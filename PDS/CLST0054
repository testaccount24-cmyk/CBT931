/* CLST0054 TO ILLUSTRATE WRITING RECORDS WITH A DO LOOP */
CONTROL LIST CONLIST
ALLOCATE DDN(OUTFILE) OLD REUSE DSN('USERID.TEST2.DATA')
OPENFILE OUTFILE OUTPUT

SET STOP = NO
DO UNTIL &STOP = STOP
    WRITE IN THE LOOP
    TIME
    WRITE ENTER A LINE OF DATA TO BE WRITTEN. JUST ENTER, TO STOP
    READ DATA
    IF &DATA = THEN SET STOP = STOP
    ELSE DO  /* DATA = NULL */
        SET OUTFILE = &DATA
        PUTFILE OUTFILE
    END      /* DATA = NULL */
END /* DO UNTIL */
CLOSFILE OUTFILE
FREE DDN(OUTFILE)

