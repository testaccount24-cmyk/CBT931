/* CLST0057 SUBMIT JCL USING THE LINE MODE EDITOR
/*    SUBMITTING JCL FOR BATCH PROCESSING.
/*    INSERTING VARIABLE VALUES INTO THE JCL.
/*    USING THE TSO LINE MODE EDITOR TO CREATE
/*    A TEMPORARY FILE, SUBMIT IT,
/*    AND EXIT WITHOUT SAVING IT
/*
SET TEMP_FILE_NAME = '&SYSUID..TEMP.SUBMIT.CNTL'
SET PROGRAM_TO_EXECUTE = MYPROG1
SET JCL_DELIMITER = &STR(/*)

/* DELETE, IF IT EXISTS. IT'S A TEMP FILE.
/* YOU SHOULD HAVE NOTHING GOOD IN A TEMP FILE. GOODBYE.  */

CONTROL NOMSG
DELETE &TEMP_FILE_NAME
CONTROL MSG
CONTROL LIST
ALLOCATE DSN(&TEMP_FILE_NAME.) NEW REUSE TRACKS +
   SPACE(3,1) LRECL(80) RECFM(F,B) BLKSIZE(8000)

EDIT &TEMP_FILE_NAME CNTL OLD NUM EMODE
10 //&SYSUID.@ JOB (0),'TEST JOB ',
20 //         TYPRUN=SCAN,
30 //         MSGLEVEL=1,CLASS=A,NOTIFY=&SYSUID
40 //STEP1    EXEC PGM=&PROGRAM_TO_EXECUTE
50 //INFILE   DD DSN=&SYSUID..INPUT.FILE,DISP=SHR
60 //OUTFILE  DD SYSOUT=A
70 //SYSIN    DD *
80 &SYSDATE &SYSTIME
90 &JCL_DELIMITER

LIST
SUBMIT
END NOSAVE

STATUS
