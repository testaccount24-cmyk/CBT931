/* CLST0058 CALCULATE SQUARE      ROOT OF A NUMBER */
/* IN A SUBPROCEDURE                               */
 SET RESULT = 0
 SYSCALL SQRT 646 RESULT
 WRITE THE SQUARE ROOT IS &RESULT

 EXIT /* LOGICAL END OF PROGRAM (NOT NEEDED) */

 SQRT: PROC 2 NUMBER RESULT_DATA
 SYSREF RESULT_DATA
 SET GUESS = &NUMBER / 2

 DO I = 1 TO 50
    SET NEW_GUESS = (&GUESS + (&NUMBER / &GUESS)) / 2
    SET GUESS = &NEW_GUESS
    WRITE &GUESS
 END /* DO I = 1 TO 50 */

 SET RESULT_DATA = &NEW_GUESS
 END /* END SUBPROCEDURE */
