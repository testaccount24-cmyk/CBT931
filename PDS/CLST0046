/* CLST0046  SUBPROCEDURE. PASS DATA TO IT                 */
/* SUBPROCEDURE RETURNS CODE INDICATING SUCCESS OR FAILURE */
WRITE IN MAIN PART OF CLIST
SET DSN = MYLIB.DATA.CLIST
SYSCALL MYSUB &DSN /* CALLING THE SUBPROCEDURE, PASSING &DSN */
WRITE RETURN CODE FROM SUBPROCEDURE WAS &LASTCC
EXIT  /* LOGICAL END OF PROGRAM (NOT REQUIRED) */

MYSUB: PROC 1 DATASET_PASSED_TO_PROCEDURE
   CONTROL LIST NOFLUSH
   WRITE SUBPROCEDURE RECEIVED &DATASET_PASSED_TO_PROCEDURE
   ALLOCATE DDN(TEMP001) SHR REUSE DSN(&DATASET_PASSED_TO_PROCEDURE)
   SET HOLD_CC = &LASTCC
   WRITE &HOLD_CC WAS RETURN CODE FROM ALLOCATE
   RETURN CODE(&HOLD_CC) /* RETURNS CONTROL AND PASSES NUMBER BACK */
END /* LOGICAL END OF THE SUBPROCEDURE. */

