/* REXX PROGRAM REXX0058 TO CALCULATE SQUARE ROOT */
/* ILLUSTRATE A USER-WRITTEN  FUNCTION OR SUBROUTINE */
CALL SQRT 64
SAY RESULT
EXIT /* LOGICAL END OF PROGRAM */

SQRT: /* SQRT FUNCTION OR SUBROUTINE*/
ARG NUMBER
GUESS = NUMBER / 2
IF NUMBER < 0 THEN DO
    SAY "NUMBER MUST BE POSITIVE"
RETURN 0
END

IF DATATYPE(NUMBER) = "CHAR" THEN DO
    SAY "NUMBER MUST BE NUMERIC"
RETURN 0
END

DO 50
    NEW_GUESS = (GUESS + (NUMBER / GUESS)) / 2
    GUESS = NEW_GUESS
END
RETURN NEW_GUESS /* LOGICAL END OF SUBROUTINE */
