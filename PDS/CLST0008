 /* CLST0008. THIS CLIST WILL EXECUTE THE TSO COMMAND LISTDS */
 /* AND CAPTURE THE OUTPUT THAT IS NORMALLY DISPLAYED AT THE TERMINAL */
 /* THIS EXAMPLE DISPLAYS THE CAPTURED DATA.     */
 /* YOU CAN DO OTHER THINGS WITH THE CAPTURED DATA */
 SET SYSOUTTRAP = 100            /* ARBITRARILY CHOOSING 100 LINES. */
                                 /* YOU CAN USE A DIFFERENT VALUE */
 LISTDS  'USERID.TEST1.EXEC'     /* USE A VALID DATASET NAME HERE */
 SET SYSOUTTRAP = 0              /* TURN OFF CAPTURING. */
 SET MAX_RETURNED = &SYSOUTLINE  /* HOW MANY LINES RETURNED */
 SET INDEX= 0
 DO WHILE &INDEX LE &MAX_RETURNED       /* NOTE 1 */
         SET INDEX = &INDEX + 1         /* INCREMENT INDEX */
         SET CURRENT_LINE = &STR(&&SYSOUTLINE&INDEX) /* NOTE 2 */
         WRITE LINE RETRIEVED IS &STR(&CURRENT_LINE)
                                                     /* NOTE 3 */
 END /* END DO WHILE */
