/* CLST0052 EXAMPLE OF READING A FILE */
 ALLOC DDN(INFILE) SHR REUSE DSN('DATASET-YOU-ARE-READING')
 ERROR DO
      WRITE &LASTCC
      IF &LASTCC NE 0 THEN SET EOF = YES
      RETURN
 END

 SET EOF = NO

 OPENFILE INFILE INPUT
 DO UNTIL &EOF = YES
      GETFILE INFILE
      IF &EOF NE YES THEN DO
          WRITE RECORD READ WAS:
          WRITE &INFILE
      END /* EOF NE YES */
 END /* DO WHILE */

 CLOSFILE INFILE
 FREE DDNAME(INFILE)
